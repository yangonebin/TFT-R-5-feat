from scipy import stats
import numpy as np

# [데이터 입력] 한빈님이 보내주신 실제 ROI 데이터
group_a_roi = [
    48.20210561, 36.49825448, 44.97421815, 44.97458757, 44.97458757, 
    48.08088682, 48.0854336, 41.53543739, 50.36777362, 40.27035739, 
    47.96852913, 44.97458757, 43.57714114, 33.33886742, 48.56682529, 
    48.94854175, 44.55561025, 44.97458757, 30.41533661, 70.47338574, 
    43.7959326, 43.7959326, 34.53222366, 44.97458757, 46.83794257, 
    44.97458757, 56.97657974, 50.53292777, 44.97458757, 38.17703594
]

group_b_roi = [
    127.5031426, 87.9845771, 26.42143906, 55.81007618, 52.27712208, 
    92.75179623, 27.86224379, 40.77990879, 49.44763705, 10.67881125, 
    31.5465631, 107.8046471, 69.77489573, 135.9410594, 67.20660503, 
    68.07711796, 8.040064437, 26.58392361, 27.70050184, 49.36955864, 
    31.49968255, 112.7482384, 65.34904299, 47.50701249, 111.0043412, 
    91.47174616, 58.34931422, 48.35618401, 99.17282072, 39.23439248
]

# 1. 기초 통계량 산출
mean_a, std_a = np.mean(group_a_roi), np.std(group_a_roi, ddof=1)
mean_b, std_b = np.mean(group_b_roi), np.std(group_b_roi, ddof=1)

# 2. 등분산성 검정 (Levene's Test)
levene_stat, p_levene = stats.levene(group_a_roi, group_b_roi)

# 3. 독립표본 T-검정 (Welch's T-test 수행)
# 등분산성 p-value가 0.05보다 작으므로 equal_var=False 적용
t_stat, p_val = stats.ttest_ind(group_a_roi, group_b_roi, equal_var=False)

print("="*50)
print(f"[기초 통계] Group A Mean: {mean_a:.2f}% | SD: {std_a:.2f}")
print(f"[기초 통계] Group B Mean: {mean_b:.2f}% | SD: {std_b:.2f}")
print("-"*50)
print(f"Levene Test P-value: {p_levene:.4f} (등분산성 불만족 확인)")
print(f"Welch's T-statistic: {t_stat:.4f}")
print(f"P-value: {p_val:.4f}")
print("="*50)

if p_val < 0.05:
    print("결과: 귀무가설 기각! 두 모델의 성과 차이는 통계적으로 유의미합니다.")
else:
    print("결과: 귀무가설 채택. 통계적으로 유의미한 차이가 발견되지 않았습니다.")